"use strict";
self["webpackHotUpdatees6_async_await"](0,{

/***/ 23:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(24);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(29);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(25);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(30);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);




window.addEventListener('DOMContentLoaded', function () {
  var key = '46192b1a692f4486a0d181847232202 ';
  var days = 6;
  var city = "auto:ip";
  var url = "http://api.weatherapi.com/v1/forecast.json?key=".concat(key, "&q=").concat(city, "&days=").concat(days);
  var icon = 'cloudy';
  var iconPath = "assets/icons/".concat(icon, ".svg");
  var searchTab = document.querySelector("div.module__form");
  // searchTab.hidden = false
  var weatherTab = document.querySelector("div.module__weather");
  weatherTab.hidden = false;
  var Forecast = /*#__PURE__*/function () {
    function Forecast(el) {
      (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["default"])(this, Forecast);
      this.el = el;
      this.city = el.querySelector("span.city__name");
      this.temperature = el.querySelector("span.temperature__value");
      this.pressure = el.querySelector("span.pressure__value");
      this.humidity = el.querySelector("span.humidity__value");
      this.wind = el.querySelector("span.wind-speed__value");
      this.icon = el.querySelector("div.weather__icon").querySelector("img");
      this.forecast = el.querySelector("ul.weather__forecast").querySelectorAll("li");
    }
    (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__["default"])(Forecast, [{
      key: "updateData",
      value: function updateData(city, temp, press, humid, wind, cond, timeOfDay) {
        this.city.textContent = city;
        this.temperature.textContent = temp;
        this.pressure.textContent = press + "hPa";
        this.humidity.textContent = humid + "%";
        this.wind.textContent = wind + "m/s";
        this.icon.src = findIcon(cond, timeOfDay);
      }
    }, {
      key: "updateForecast",
      value: function updateForecast(forecastList) {
        this.forecast.forEach(function (day, index) {
          day.querySelector(".day").textContent = forecastList[index]["day"];
          day.querySelector(".temperature__value").textContent = forecastList[index]['temp'];
          day.querySelector("img").src = findIcon(forecastList[index]['condition'], "day");
        });
      }
    }]);
    return Forecast;
  }();
  var findIcon = function findIcon(code, timeOfDay) {
    var translator = {
      1000: "clear-".concat(timeOfDay),
      1003: "partly-cloudy-".concat(timeOfDay),
      1006: "cloudy",
      1009: "cloudy",
      1030: "cloudy",
      1063: "rain",
      1066: "snow",
      1069: "sleet",
      1072: "sleet",
      1087: "thunderstorm",
      1114: "snow",
      1117: "snow",
      1135: "cloudy",
      1147: "cloudy",
      1150: "rain",
      1153: "rain",
      1168: "rain",
      1171: "rain",
      1180: "rain",
      1183: "rain",
      1186: "rain",
      1189: "rain",
      1192: "rain",
      1195: "rain",
      1198: "rain",
      1201: "rain",
      1204: "sleet",
      1207: "sleet",
      1210: "snow",
      1213: "snow",
      1216: "snow",
      1219: "snow",
      1222: "snow",
      1225: "snow",
      1237: "snow",
      1240: "rain",
      1243: "rain",
      1246: "rain",
      1249: "sleet",
      1252: "sleet",
      1255: "snow",
      1258: "snow",
      1261: "sleet",
      1264: "sleet",
      1273: "thunderstorm",
      1276: "thunderstorm",
      1279: "thunderstorm",
      1282: "thunderstorm"
    };
    return "assets/icons/".concat(translator[code], ".svg");
  };
  function extractData(data) {
    console.log("in");
    var city = data['location']['name'];
    var time0fDay = dayOrNight(data['location']['localtime']);
    var condition = data['current']['condition']['code'];
    var temp = data['current']['temp_c'];
    var pressure = data['current']['pressure_mb'];
    var humidity = data['current']['humidity'];
    var wind = convertWindSpeed(data['current']['wind_kph']);
    var future = futureForecast(data['forecast']['forecastday'].slice(1));
    var weatherTab = document.querySelector("div.module__weather");
    var forecast = new Forecast(weatherTab);
    forecast.updateData(city, temp, pressure, humidity, wind, condition, time0fDay);
    forecast.updateForecast(future);
  }
  var capitalize = function capitalize(s) {
    if (typeof s !== 'string') return '';
    return s[0].toUpperCase() + s.slice(1);
  };
  var getWeekday = function getWeekday(date) {
    return capitalize(new Date(date).toLocaleString('PL', {
      weekday: 'long'
    }));
  };
  var convertWindSpeed = function convertWindSpeed(kph) {
    return Math.round(kph / 3.6 * 10) / 10;
  };
  var futureForecast = function futureForecast(arr) {
    return arr.map(function (day) {
      return {
        day: getWeekday(day['date']),
        temp: day['day']['avgtemp_c'],
        condition: day['day']['condition']['code']
      };
    });
  };
  var dayOrNight = function dayOrNight(date) {
    var hour = new Date(date).getHours();
    if (6 < hour && hour < 20) {
      return "day";
    } else {
      return "night";
    }
  };
  (function () {
    var _ref = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().mark(function _callee(url) {
      var response, data;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().wrap(function _callee$(_context) {
        while (1) switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return fetch(url);
          case 2:
            response = _context.sent;
            _context.next = 5;
            return response.json();
          case 5:
            data = _context.sent;
            // console.log(data)
            extractData(data);
          case 7:
          case "end":
            return _context.stop();
        }
      }, _callee);
    }));
    return function (_x) {
      return _ref.apply(this, arguments);
    };
  })()(url);
});

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("2ae50ddedabd775fee99")
/******/ })();
/******/ 
/******/ }
);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VixPQUFBO0lBQUEsQ0FDcEI7SUFBQSxpQkFBQVcsRUFBQTtNQUFBLE9BQUFmLElBQUEsQ0FBQWdCLEtBQUEsT0FBQUMsU0FBQTtJQUFBO0VBQUEsS0FBRS9FLEdBQUcsQ0FBQztBQUdYLENBQUMsQ0FBQzs7Ozs7Ozs7VUMzSkYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lczYtYXN5bmMtYXdhaXQvLi9qcy9hcHAuanMiLCJ3ZWJwYWNrOi8vZXM2LWFzeW5jLWF3YWl0L3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgICBjb25zdCBrZXkgPSAnNDYxOTJiMWE2OTJmNDQ4NmEwZDE4MTg0NzIzMjIwMiAnXG4gICAgbGV0IGRheXMgPSA2XG4gICAgbGV0IGNpdHkgPSBcImF1dG86aXBcIlxuICAgIGNvbnN0IHVybCA9IGBodHRwOi8vYXBpLndlYXRoZXJhcGkuY29tL3YxL2ZvcmVjYXN0Lmpzb24/a2V5PSR7a2V5fSZxPSR7Y2l0eX0mZGF5cz0ke2RheXN9YFxuICAgIGxldCBpY29uID0gJ2Nsb3VkeSdcbiAgICBsZXQgaWNvblBhdGggPSBgYXNzZXRzL2ljb25zLyR7aWNvbn0uc3ZnYFxuXG4gICAgY29uc3Qgc2VhcmNoVGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5tb2R1bGVfX2Zvcm1cIilcbi8vIHNlYXJjaFRhYi5oaWRkZW4gPSBmYWxzZVxuICAgIGNvbnN0IHdlYXRoZXJUYWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2Lm1vZHVsZV9fd2VhdGhlclwiKVxuICAgIHdlYXRoZXJUYWIuaGlkZGVuID0gZmFsc2VcblxuICAgIGNsYXNzIEZvcmVjYXN0IHtcbiAgICAgICAgY29uc3RydWN0b3IoZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZWwgPSBlbFxuICAgICAgICAgICAgdGhpcy5jaXR5ID0gZWwucXVlcnlTZWxlY3RvcihcInNwYW4uY2l0eV9fbmFtZVwiKVxuICAgICAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSA9IGVsLnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLnRlbXBlcmF0dXJlX192YWx1ZVwiKVxuICAgICAgICAgICAgdGhpcy5wcmVzc3VyZSA9IGVsLnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLnByZXNzdXJlX192YWx1ZVwiKVxuICAgICAgICAgICAgdGhpcy5odW1pZGl0eSA9IGVsLnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLmh1bWlkaXR5X192YWx1ZVwiKVxuICAgICAgICAgICAgdGhpcy53aW5kID0gZWwucXVlcnlTZWxlY3RvcihcInNwYW4ud2luZC1zcGVlZF9fdmFsdWVcIilcbiAgICAgICAgICAgIHRoaXMuaWNvbiA9IGVsLnF1ZXJ5U2VsZWN0b3IoXCJkaXYud2VhdGhlcl9faWNvblwiKS5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpXG4gICAgICAgICAgICB0aGlzLmZvcmVjYXN0ID0gZWwucXVlcnlTZWxlY3RvcihcInVsLndlYXRoZXJfX2ZvcmVjYXN0XCIpLnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaVwiKVxuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlRGF0YShjaXR5LCB0ZW1wLCBwcmVzcywgaHVtaWQsIHdpbmQsIGNvbmQsIHRpbWVPZkRheSkge1xuICAgICAgICAgICAgdGhpcy5jaXR5LnRleHRDb250ZW50ID0gY2l0eVxuICAgICAgICAgICAgdGhpcy50ZW1wZXJhdHVyZS50ZXh0Q29udGVudCA9IHRlbXBcbiAgICAgICAgICAgIHRoaXMucHJlc3N1cmUudGV4dENvbnRlbnQgPSBwcmVzcyArIFwiaFBhXCJcbiAgICAgICAgICAgIHRoaXMuaHVtaWRpdHkudGV4dENvbnRlbnQgPSBodW1pZCArIFwiJVwiXG4gICAgICAgICAgICB0aGlzLndpbmQudGV4dENvbnRlbnQgPSB3aW5kICsgXCJtL3NcIlxuICAgICAgICAgICAgdGhpcy5pY29uLnNyYyA9IGZpbmRJY29uKGNvbmQsIHRpbWVPZkRheSlcbiAgICAgICAgfVxuXG4gICAgICAgIHVwZGF0ZUZvcmVjYXN0KGZvcmVjYXN0TGlzdCkge1xuICAgICAgICAgICAgdGhpcy5mb3JlY2FzdC5mb3JFYWNoKChkYXksIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgZGF5LnF1ZXJ5U2VsZWN0b3IoXCIuZGF5XCIpLnRleHRDb250ZW50ID0gZm9yZWNhc3RMaXN0W2luZGV4XVtcImRheVwiXVxuICAgICAgICAgICAgICAgIGRheS5xdWVyeVNlbGVjdG9yKFwiLnRlbXBlcmF0dXJlX192YWx1ZVwiKS50ZXh0Q29udGVudCA9IGZvcmVjYXN0TGlzdFtpbmRleF1bJ3RlbXAnXVxuICAgICAgICAgICAgICAgIGRheS5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpLnNyYyA9IGZpbmRJY29uKGZvcmVjYXN0TGlzdFtpbmRleF1bJ2NvbmRpdGlvbiddLCBcImRheVwiKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGZpbmRJY29uID0gKGNvZGUsIHRpbWVPZkRheSkgPT4ge1xuICAgICAgICBjb25zdCB0cmFuc2xhdG9yID0ge1xuICAgICAgICAgICAgMTAwMDogYGNsZWFyLSR7dGltZU9mRGF5fWAsXG4gICAgICAgICAgICAxMDAzOiBgcGFydGx5LWNsb3VkeS0ke3RpbWVPZkRheX1gLFxuICAgICAgICAgICAgMTAwNjogYGNsb3VkeWAsXG4gICAgICAgICAgICAxMDA5OiBgY2xvdWR5YCxcbiAgICAgICAgICAgIDEwMzA6IGBjbG91ZHlgLFxuICAgICAgICAgICAgMTA2MzogYHJhaW5gLFxuICAgICAgICAgICAgMTA2NjogYHNub3dgLFxuICAgICAgICAgICAgMTA2OTogYHNsZWV0YCxcbiAgICAgICAgICAgIDEwNzI6IGBzbGVldGAsXG4gICAgICAgICAgICAxMDg3OiBgdGh1bmRlcnN0b3JtYCxcbiAgICAgICAgICAgIDExMTQ6IGBzbm93YCxcbiAgICAgICAgICAgIDExMTc6IGBzbm93YCxcbiAgICAgICAgICAgIDExMzU6IGBjbG91ZHlgLFxuICAgICAgICAgICAgMTE0NzogYGNsb3VkeWAsXG4gICAgICAgICAgICAxMTUwOiBgcmFpbmAsXG4gICAgICAgICAgICAxMTUzOiBgcmFpbmAsXG4gICAgICAgICAgICAxMTY4OiBgcmFpbmAsXG4gICAgICAgICAgICAxMTcxOiBgcmFpbmAsXG4gICAgICAgICAgICAxMTgwOiBgcmFpbmAsXG4gICAgICAgICAgICAxMTgzOiBgcmFpbmAsXG4gICAgICAgICAgICAxMTg2OiBgcmFpbmAsXG4gICAgICAgICAgICAxMTg5OiBgcmFpbmAsXG4gICAgICAgICAgICAxMTkyOiBgcmFpbmAsXG4gICAgICAgICAgICAxMTk1OiBgcmFpbmAsXG4gICAgICAgICAgICAxMTk4OiBgcmFpbmAsXG4gICAgICAgICAgICAxMjAxOiBgcmFpbmAsXG4gICAgICAgICAgICAxMjA0OiBgc2xlZXRgLFxuICAgICAgICAgICAgMTIwNzogYHNsZWV0YCxcbiAgICAgICAgICAgIDEyMTA6IGBzbm93YCxcbiAgICAgICAgICAgIDEyMTM6IGBzbm93YCxcbiAgICAgICAgICAgIDEyMTY6IGBzbm93YCxcbiAgICAgICAgICAgIDEyMTk6IGBzbm93YCxcbiAgICAgICAgICAgIDEyMjI6IGBzbm93YCxcbiAgICAgICAgICAgIDEyMjU6IGBzbm93YCxcbiAgICAgICAgICAgIDEyMzc6IGBzbm93YCxcbiAgICAgICAgICAgIDEyNDA6IGByYWluYCxcbiAgICAgICAgICAgIDEyNDM6IGByYWluYCxcbiAgICAgICAgICAgIDEyNDY6IGByYWluYCxcbiAgICAgICAgICAgIDEyNDk6IGBzbGVldGAsXG4gICAgICAgICAgICAxMjUyOiBgc2xlZXRgLFxuICAgICAgICAgICAgMTI1NTogYHNub3dgLFxuICAgICAgICAgICAgMTI1ODogYHNub3dgLFxuICAgICAgICAgICAgMTI2MTogYHNsZWV0YCxcbiAgICAgICAgICAgIDEyNjQ6IGBzbGVldGAsXG4gICAgICAgICAgICAxMjczOiBgdGh1bmRlcnN0b3JtYCxcbiAgICAgICAgICAgIDEyNzY6IGB0aHVuZGVyc3Rvcm1gLFxuICAgICAgICAgICAgMTI3OTogYHRodW5kZXJzdG9ybWAsXG4gICAgICAgICAgICAxMjgyOiBgdGh1bmRlcnN0b3JtYCxcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYGFzc2V0cy9pY29ucy8ke3RyYW5zbGF0b3JbY29kZV19LnN2Z2BcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGV4dHJhY3REYXRhKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJpblwiKVxuICAgICAgICBjb25zdCBjaXR5ID0gZGF0YVsnbG9jYXRpb24nXVsnbmFtZSddXG4gICAgICAgIGNvbnN0IHRpbWUwZkRheSA9IGRheU9yTmlnaHQoZGF0YVsnbG9jYXRpb24nXVsnbG9jYWx0aW1lJ10pXG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IGRhdGFbJ2N1cnJlbnQnXVsnY29uZGl0aW9uJ11bJ2NvZGUnXVxuICAgICAgICBjb25zdCB0ZW1wID0gZGF0YVsnY3VycmVudCddWyd0ZW1wX2MnXVxuICAgICAgICBjb25zdCBwcmVzc3VyZSA9IGRhdGFbJ2N1cnJlbnQnXVsncHJlc3N1cmVfbWInXVxuICAgICAgICBjb25zdCBodW1pZGl0eSA9IGRhdGFbJ2N1cnJlbnQnXVsnaHVtaWRpdHknXVxuICAgICAgICBjb25zdCB3aW5kID0gY29udmVydFdpbmRTcGVlZChkYXRhWydjdXJyZW50J11bJ3dpbmRfa3BoJ10pXG4gICAgICAgIGNvbnN0IGZ1dHVyZSA9IGZ1dHVyZUZvcmVjYXN0KGRhdGFbJ2ZvcmVjYXN0J11bJ2ZvcmVjYXN0ZGF5J10uc2xpY2UoMSkpXG5cbiAgICAgICAgY29uc3Qgd2VhdGhlclRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYubW9kdWxlX193ZWF0aGVyXCIpXG4gICAgICAgIGNvbnN0IGZvcmVjYXN0ID0gbmV3IEZvcmVjYXN0KHdlYXRoZXJUYWIpXG4gICAgICAgIGZvcmVjYXN0LnVwZGF0ZURhdGEoY2l0eSwgdGVtcCwgcHJlc3N1cmUsIGh1bWlkaXR5LCB3aW5kLCBjb25kaXRpb24sIHRpbWUwZkRheSlcbiAgICAgICAgZm9yZWNhc3QudXBkYXRlRm9yZWNhc3QoZnV0dXJlKVxuICAgIH1cblxuICAgIGNvbnN0IGNhcGl0YWxpemUgPSAocykgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHMgIT09ICdzdHJpbmcnKSByZXR1cm4gJydcbiAgICAgICAgcmV0dXJuIHNbMF0udG9VcHBlckNhc2UoKSArIHMuc2xpY2UoMSlcbiAgICB9XG5cbiAgICBjb25zdCBnZXRXZWVrZGF5ID0gKGRhdGUpID0+IHtcbiAgICAgICAgcmV0dXJuIGNhcGl0YWxpemUobmV3IERhdGUoZGF0ZSkudG9Mb2NhbGVTdHJpbmcoJ1BMJywge3dlZWtkYXk6ICdsb25nJ30pKVxuICAgIH1cblxuICAgIGNvbnN0IGNvbnZlcnRXaW5kU3BlZWQgPSAoa3BoKSA9PiB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGtwaCAvIDMuNiAqIDEwKSAvIDEwXG4gICAgfVxuXG4gICAgY29uc3QgZnV0dXJlRm9yZWNhc3QgPSAoYXJyKSA9PiB7XG4gICAgICAgIHJldHVybiBhcnIubWFwKGRheSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRheTogZ2V0V2Vla2RheShkYXlbJ2RhdGUnXSksXG4gICAgICAgICAgICAgICAgdGVtcDogZGF5WydkYXknXVsnYXZndGVtcF9jJ10sXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uOiBkYXlbJ2RheSddWydjb25kaXRpb24nXVsnY29kZSddXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3QgZGF5T3JOaWdodCA9IChkYXRlKSA9PiB7XG4gICAgICAgIGxldCBob3VyID0gbmV3IERhdGUoZGF0ZSkuZ2V0SG91cnMoKVxuICAgICAgICBpZiAoNiA8IGhvdXIgJiYgaG91ciA8IDIwKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJkYXlcIlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwibmlnaHRcIlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgKGFzeW5jICh1cmwpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSlcbiAgICAgICAgZXh0cmFjdERhdGEoZGF0YSlcbiAgICB9KSh1cmwpXG5cblxufSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCIyYWU1MGRkZWRhYmQ3NzVmZWU5OVwiKSJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwia2V5IiwiZGF5cyIsImNpdHkiLCJ1cmwiLCJjb25jYXQiLCJpY29uIiwiaWNvblBhdGgiLCJzZWFyY2hUYWIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3ZWF0aGVyVGFiIiwiaGlkZGVuIiwiRm9yZWNhc3QiLCJlbCIsIl9jbGFzc0NhbGxDaGVjayIsInRlbXBlcmF0dXJlIiwicHJlc3N1cmUiLCJodW1pZGl0eSIsIndpbmQiLCJmb3JlY2FzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfY3JlYXRlQ2xhc3MiLCJ2YWx1ZSIsInVwZGF0ZURhdGEiLCJ0ZW1wIiwicHJlc3MiLCJodW1pZCIsImNvbmQiLCJ0aW1lT2ZEYXkiLCJ0ZXh0Q29udGVudCIsInNyYyIsImZpbmRJY29uIiwidXBkYXRlRm9yZWNhc3QiLCJmb3JlY2FzdExpc3QiLCJmb3JFYWNoIiwiZGF5IiwiaW5kZXgiLCJjb2RlIiwidHJhbnNsYXRvciIsImV4dHJhY3REYXRhIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJ0aW1lMGZEYXkiLCJkYXlPck5pZ2h0IiwiY29uZGl0aW9uIiwiY29udmVydFdpbmRTcGVlZCIsImZ1dHVyZSIsImZ1dHVyZUZvcmVjYXN0Iiwic2xpY2UiLCJjYXBpdGFsaXplIiwicyIsInRvVXBwZXJDYXNlIiwiZ2V0V2Vla2RheSIsImRhdGUiLCJEYXRlIiwidG9Mb2NhbGVTdHJpbmciLCJ3ZWVrZGF5Iiwia3BoIiwiTWF0aCIsInJvdW5kIiwiYXJyIiwibWFwIiwiaG91ciIsImdldEhvdXJzIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiX3JlZ2VuZXJhdG9yUnVudGltZSIsIm1hcmsiLCJfY2FsbGVlIiwicmVzcG9uc2UiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiZmV0Y2giLCJzZW50IiwianNvbiIsInN0b3AiLCJfeCIsImFwcGx5IiwiYXJndW1lbnRzIl0sInNvdXJjZVJvb3QiOiIifQ==